---
// FeaturesSection.astro
// Full-width features section with tabbed carousel.
// Three feature panels: Contract Discovery, Buying Signals, Buyer Intelligence.
// Each panel pairs an animated illustration with benefit-focused copy.

import TabsCarousel from '../ui/TabsCarousel.astro';
import ContractDiscoveryIllustration from '../illustrations/ContractDiscoveryIllustration.astro';
import SignalScannerIllustration from '../illustrations/SignalScannerIllustration.astro';
import BuyerIntelIllustration from '../illustrations/BuyerIntelIllustration.astro';
---

<section id="features" class="bg-bg-primary">
  <div class="mx-auto max-w-[80rem] px-6 py-24">
    <!-- Section heading -->
    <div class="mb-16 max-w-2xl">
      <h2 class="font-heading text-3xl md:text-4xl lg:text-5xl font-bold text-text-primary leading-tight tracking-tight">
        Find contracts. Win business.
      </h2>
      <p class="mt-4 text-text-secondary text-lg leading-relaxed">
        Everything you need to discover, track, and win UK government contracts â€” before your competitors even know they exist.
      </p>
    </div>

    <!-- Tabbed feature panels -->
    <TabsCarousel labels={['Contract Discovery', 'Buying Signals', 'Buyer Intelligence']}>
      <!-- Panel 0: Contract Discovery -->
      <div slot="panel-0" class="fs-panel">
        <div class="fs-panel__illustration">
          <ContractDiscoveryIllustration />
        </div>
        <div class="fs-panel__content">
          <h3 class="font-heading text-xl md:text-2xl font-bold text-text-primary mb-4">
            Contract Discovery
          </h3>
          <p class="text-text-body text-base md:text-lg leading-relaxed max-w-xl">
            Search 200,000+ UK government contracts from Find a Tender and Contracts Finder. Filter by sector, value, region, and CPV codes. Never miss an opportunity.
          </p>
          <ul class="fs-panel__highlights" role="list">
            <li>Find a Tender + Contracts Finder combined</li>
            <li>Filter by sector, region, value, CPV codes</li>
            <li>AI-scored opportunity matching</li>
          </ul>
        </div>
      </div>

      <!-- Panel 1: Buying Signals -->
      <div slot="panel-1" class="fs-panel">
        <div class="fs-panel__illustration">
          <SignalScannerIllustration />
        </div>
        <div class="fs-panel__content">
          <h3 class="font-heading text-xl md:text-2xl font-bold text-text-primary mb-4">
            Buying Signals
          </h3>
          <p class="text-text-body text-base md:text-lg leading-relaxed max-w-xl">
            AI scans board minutes to surface pre-tender signals. See what is coming before the RFP drops. Create custom alerts based on your company profile.
          </p>
          <ul class="fs-panel__highlights" role="list">
            <li>Board minutes analysis with AI</li>
            <li>Pre-tender signal detection</li>
            <li>Custom alerts per company profile</li>
          </ul>
        </div>
      </div>

      <!-- Panel 2: Buyer Intelligence -->
      <div slot="panel-2" class="fs-panel">
        <div class="fs-panel__illustration">
          <BuyerIntelIllustration />
        </div>
        <div class="fs-panel__content">
          <h3 class="font-heading text-xl md:text-2xl font-bold text-text-primary mb-4">
            Buyer Intelligence
          </h3>
          <p class="text-text-body text-base md:text-lg leading-relaxed max-w-xl">
            Reveal decision-maker contacts for every buyer organization. One-click access to emails, LinkedIn profiles, and direct dial numbers. No more guessing who to pitch.
          </p>
          <ul class="fs-panel__highlights" role="list">
            <li>Decision-maker contact details</li>
            <li>Emails, LinkedIn, direct dials</li>
            <li>One credit per reveal</li>
          </ul>
        </div>
      </div>
    </TabsCarousel>
  </div>
</section>

<style>
  /* Panel layout */
  .fs-panel {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    padding: 2rem 0;
  }

  @media (min-width: 768px) {
    .fs-panel {
      flex-direction: row;
      align-items: center;
      gap: 4rem;
      padding: 2.5rem 0;
    }
  }

  /* Illustration container */
  .fs-panel__illustration {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 200px;
    height: 200px;
    max-width: 100%;
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: 16px;
    margin: 0 auto;
    aspect-ratio: 1;
  }

  @media (min-width: 768px) {
    .fs-panel__illustration {
      margin: 0;
      max-width: 200px;
    }
  }

  /* Content area */
  .fs-panel__content {
    flex: 1;
    min-width: 0;
  }

  /* Highlight list */
  .fs-panel__highlights {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.625rem;
    list-style: none;
    padding: 0;
  }

  .fs-panel__highlights li {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    font-family: var(--font-body);
    font-size: 0.875rem;
    color: var(--color-text-secondary);
  }

  .fs-panel__highlights li::before {
    content: '';
    display: block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--color-accent);
    flex-shrink: 0;
    opacity: 0.7;
  }
</style>
