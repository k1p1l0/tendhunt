---
import { Astronav, MenuItems, MenuIcon, StickyHeader } from 'astro-navbar';
import Logo from './Logo.astro';
import Button from './Button.astro';
---

<StickyHeader
  class="sticky top-0 z-50 transition-all duration-300 border-b"
  scrollY={50}
  defaultClass="py-4 border-transparent bg-transparent"
  activeClass="py-3 bg-bg-primary/90 border-border backdrop-blur-lg"
>
  <nav class="mx-auto max-w-[80rem] px-6 flex items-center justify-between">
    <Logo />

    <Astronav closeOnClick>
      <div class="block lg:hidden">
        <MenuIcon class="cursor-pointer">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-text-primary"
          >
            <line x1="3" y1="6" x2="21" y2="6" />
            <line x1="3" y1="12" x2="21" y2="12" />
            <line x1="3" y1="18" x2="21" y2="18" />
          </svg>
        </MenuIcon>
      </div>

      <MenuItems
        class="hidden lg:flex items-center gap-8"
      >
        <div class="flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-8 mt-4 lg:mt-0 pb-4 lg:pb-0 border-b border-border lg:border-none">
          <a href="#how-it-works" class="text-text-secondary hover:text-text-primary transition-colors text-sm">
            How It Works
          </a>
          <a href="#features" class="text-text-secondary hover:text-text-primary transition-colors text-sm">
            Features
          </a>
          <a href="#pricing" class="text-text-secondary hover:text-text-primary transition-colors text-sm">
            Pricing
          </a>
          <a href="/blog" class="text-text-secondary hover:text-text-primary transition-colors text-sm">
            Blog
          </a>
          <a href="https://app.tendhunt.com/sign-in" class="text-text-secondary hover:text-text-primary transition-colors text-sm">
            Log In
          </a>
        </div>
        <Button href="#waitlist" variant="primary" size="md">
          Get Early Access
        </Button>
      </MenuItems>
    </Astronav>
  </nav>
</StickyHeader>

<style>
  /* Mobile menu styles - when astronav opens on mobile, show as dropdown */
  @media (max-width: 1023px) {
    :global(.astronav-toggle .astronav-items) {
      display: flex !important;
      flex-direction: column;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background-color: var(--color-bg-primary);
      border-bottom: 1px solid var(--color-border);
      padding: 1rem 1.5rem;
      z-index: 50;
      max-height: calc(100vh - 80px);
      overflow-y: auto;
    }
  }
</style>
