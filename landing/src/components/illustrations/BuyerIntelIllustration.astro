---
// BuyerIntelIllustration.astro
// CSS-only network nodes animation — 4 connected dots with
// connecting lines and pulse effect on nodes. Lime accent. ~200x200px.
// Decorative illustration — hidden from assistive technology.
---

<div class="bi-illustration" aria-hidden="true">
  <!-- SVG connecting lines -->
  <svg class="bi-lines" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
    <!-- Node 1 (top-center) to Node 2 (left) -->
    <line x1="100" y1="40" x2="45" y2="110" stroke="#E5FF00" stroke-width="1.5" stroke-opacity="0.2" class="bi-line bi-line--1" />
    <!-- Node 1 (top-center) to Node 3 (right) -->
    <line x1="100" y1="40" x2="155" y2="110" stroke="#E5FF00" stroke-width="1.5" stroke-opacity="0.2" class="bi-line bi-line--2" />
    <!-- Node 2 (left) to Node 4 (bottom-center) -->
    <line x1="45" y1="110" x2="100" y2="165" stroke="#E5FF00" stroke-width="1.5" stroke-opacity="0.2" class="bi-line bi-line--3" />
    <!-- Node 3 (right) to Node 4 (bottom-center) -->
    <line x1="155" y1="110" x2="100" y2="165" stroke="#E5FF00" stroke-width="1.5" stroke-opacity="0.2" class="bi-line bi-line--4" />
    <!-- Node 2 (left) to Node 3 (right) -->
    <line x1="45" y1="110" x2="155" y2="110" stroke="#E5FF00" stroke-width="1" stroke-opacity="0.12" class="bi-line bi-line--5" />
  </svg>

  <!-- Nodes -->
  <div class="bi-node bi-node--1">
    <div class="bi-node__pulse"></div>
    <div class="bi-node__core"></div>
  </div>
  <div class="bi-node bi-node--2">
    <div class="bi-node__pulse"></div>
    <div class="bi-node__core"></div>
  </div>
  <div class="bi-node bi-node--3">
    <div class="bi-node__pulse"></div>
    <div class="bi-node__core"></div>
  </div>
  <div class="bi-node bi-node--4">
    <div class="bi-node__pulse"></div>
    <div class="bi-node__core"></div>
  </div>
</div>

<style>
  .bi-illustration {
    position: relative;
    width: 200px;
    height: 200px;
  }

  .bi-lines {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .bi-line {
    animation: biLinePulse 3s ease-in-out infinite;
  }

  .bi-line--1 { animation-delay: 0s; }
  .bi-line--2 { animation-delay: 0.5s; }
  .bi-line--3 { animation-delay: 1s; }
  .bi-line--4 { animation-delay: 1.5s; }
  .bi-line--5 { animation-delay: 0.75s; }

  @keyframes biLinePulse {
    0%, 100% { stroke-opacity: 0.15; }
    50% { stroke-opacity: 0.4; }
  }

  /* Nodes positioned absolutely to match SVG coordinates */
  .bi-node {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    transform: translate(-50%, -50%);
  }

  .bi-node--1 {
    top: 20%;
    left: 50%;
  }

  .bi-node--2 {
    top: 55%;
    left: 22.5%;
  }

  .bi-node--3 {
    top: 55%;
    left: 77.5%;
  }

  .bi-node--4 {
    top: 82.5%;
    left: 50%;
  }

  .bi-node__core {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #E5FF00;
    box-shadow: 0 0 12px rgba(229, 255, 0, 0.5);
    position: relative;
    z-index: 1;
  }

  .bi-node--1 .bi-node__core {
    width: 18px;
    height: 18px;
  }

  .bi-node__pulse {
    position: absolute;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    border: 2px solid rgba(229, 255, 0, 0.5);
    animation: biNodePulse 2.5s ease-out infinite;
  }

  .bi-node--1 .bi-node__pulse {
    width: 18px;
    height: 18px;
    animation-delay: 0s;
  }

  .bi-node--2 .bi-node__pulse {
    animation-delay: 0.6s;
  }

  .bi-node--3 .bi-node__pulse {
    animation-delay: 1.2s;
  }

  .bi-node--4 .bi-node__pulse {
    animation-delay: 1.8s;
  }

  @keyframes biNodePulse {
    0% {
      transform: scale(1);
      opacity: 0.6;
    }
    100% {
      transform: scale(3);
      opacity: 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .bi-line {
      animation: none;
      stroke-opacity: 0.25;
    }

    .bi-node__pulse {
      animation: none;
      opacity: 0;
    }
  }
</style>
