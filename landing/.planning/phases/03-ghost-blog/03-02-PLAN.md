---
phase: 03-ghost-blog
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - /var/www/ghost/content/themes/tendhunt-theme/package.json
  - /var/www/ghost/content/themes/tendhunt-theme/tailwind.config.js
  - /var/www/ghost/content/themes/tendhunt-theme/assets/css/index.css
  - /var/www/ghost/content/themes/tendhunt-theme/default.hbs
  - /var/www/ghost/content/themes/tendhunt-theme/index.hbs
  - /var/www/ghost/content/themes/tendhunt-theme/post.hbs
  - /var/www/ghost/content/themes/tendhunt-theme/partials/header.hbs
  - /var/www/ghost/content/themes/tendhunt-theme/partials/footer.hbs
  - /var/www/ghost/content/themes/tendhunt-theme/partials/post-card.hbs
autonomous: true

must_haves:
  truths:
    - "Blog homepage matches landing page design (same fonts, colors, header, footer)"
    - "Blog posts render with Tailwind typography plugin styling (headings, lists, code blocks)"
    - "Dark mode applies automatically based on system preference (prefers-color-scheme)"
    - "Blog header navigation links back to landing page sections (/#features, /#pricing, etc.)"
    - "Ghost theme builds without errors and activates in Ghost admin"
  artifacts:
    - path: "/var/www/ghost/content/themes/tendhunt-theme/assets/css/index.css"
      provides: "Tailwind @theme with TendHunt design tokens"
      contains: "--font-heading: \"Space Grotesk Variable\""
    - path: "/var/www/ghost/content/themes/tendhunt-theme/partials/header.hbs"
      provides: "Landing navigation in blog header"
      contains: "<a href=\"/#features\""
    - path: "/var/www/ghost/content/themes/tendhunt-theme/default.hbs"
      provides: "Base layout with dark theme class"
      contains: "class=\"dark\""
    - path: "/var/www/ghost/content/themes/tendhunt-theme/package.json"
      provides: "Theme manifest with Tailwind build scripts"
      exports: ["dev", "build"]
    - path: "/var/www/ghost/content/themes/tendhunt-theme/post.hbs"
      provides: "Post template with typography styling"
      contains: "prose prose-invert"
  key_links:
    - from: "Tailwind CSS build output"
      to: "assets/built/index.css"
      via: "npm run build script"
      pattern: "tailwindcss.*-o.*assets/built"
    - from: "default.hbs layout"
      to: "partials/header.hbs"
      via: "{{> header}} partial inclusion"
      pattern: "\\{\\{>\\s*header\\}\\}"
    - from: "Ghost {{asset}} helper"
      to: "assets/built/index.css"
      via: "{{asset 'css/index.css'}} in <head>"
      pattern: "\\{\\{asset.*css/index\\.css"
---

<objective>
Create a custom Ghost theme matching the TendHunt landing page design system — same fonts (Space Grotesk + Inter), colors (#E5FF00 accent, dark background), header navigation, and footer — so the blog feels like a seamless extension of the main site.

Purpose: Ensure brand consistency between landing page and blog. Visitors should not realize they've left the main site when browsing /blog.

Output: A production-ready Ghost theme installed and activated, with blog posts rendering in TendHunt's visual identity.
</objective>

<execution_context>
@/Users/kirillkozak/Projects/tendhunt.com/.claude/get-shit-done/workflows/execute-plan.md
@/Users/kirillkozak/Projects/tendhunt.com/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/kirillkozak/Projects/tendhunt.com/landing/.planning/PROJECT.md
@/Users/kirillkozak/Projects/tendhunt.com/landing/.planning/ROADMAP.md
@/Users/kirillkozak/Projects/tendhunt.com/landing/.planning/phases/03-ghost-blog/03-CONTEXT.md
@/Users/kirillkozak/Projects/tendhunt.com/landing/.planning/phases/03-ghost-blog/03-RESEARCH.md
@/Users/kirillkozak/Projects/tendhunt.com/landing/.planning/phases/03-ghost-blog/03-01-SUMMARY.md
@/Users/kirillkozak/Projects/tendhunt.com/landing/src/styles/global.css
@/Users/kirillkozak/Projects/tendhunt.com/landing/src/components/Header.astro
@/Users/kirillkozak/Projects/tendhunt.com/landing/src/components/Footer.astro
</context>

<tasks>

<task type="auto">
  <name>Create Ghost theme scaffold and install Tailwind CSS dependencies</name>
  <files>
    /var/www/ghost/content/themes/tendhunt-theme/package.json
    /var/www/ghost/content/themes/tendhunt-theme/tailwind.config.js
  </files>
  <action>
SSH into the VPS and create the theme directory structure:

```bash
ssh root@<VPS_IP>
cd /var/www/ghost/content/themes
mkdir tendhunt-theme
cd tendhunt-theme
```

**1. Create package.json:**

```json
{
  "name": "tendhunt-theme",
  "version": "1.0.0",
  "description": "TendHunt blog theme with Tailwind CSS",
  "engines": {
    "ghost": ">=5.0.0"
  },
  "scripts": {
    "dev": "concurrently \"npx tailwindcss -i ./assets/css/index.css -o ./assets/built/index.css --watch\" \"ghost restart\"",
    "build": "npx tailwindcss -i ./assets/css/index.css -o ./assets/built/index.css --minify",
    "zip": "npm run build && bestzip ../tendhunt-theme.zip * -x .git node_modules"
  },
  "devDependencies": {
    "tailwindcss": "^3.4.0",
    "@tailwindcss/typography": "^0.5.10",
    "concurrently": "^8.2.2",
    "bestzip": "^2.2.1"
  },
  "config": {
    "posts_per_page": 12
  }
}
```

**2. Install dependencies:**

```bash
npm install
```

**3. Create tailwind.config.js:**

```javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: ["./*.hbs", "./**/*.hbs"],
  darkMode: 'class',
  theme: {
    extend: {
      fontFamily: {
        heading: ["Space Grotesk Variable", "ui-sans-serif", "system-ui", "sans-serif"],
        body: ["Inter Variable", "ui-sans-serif", "system-ui", "sans-serif"],
      },
      colors: {
        accent: "#E5FF00",
        "accent-hover": "#D4EE00",
        "bg-primary": "#0A0A0A",
        "bg-secondary": "#111111",
        "text-primary": "#FFFFFF",
        "text-secondary": "#A1A1A1",
        "text-body": "#E5E5E5",
        "border": "#2A2A2A",
      },
      typography: (theme) => ({
        DEFAULT: {
          css: {
            color: theme("colors.text-body"),
            a: {
              color: theme("colors.accent"),
              "&:hover": { color: theme("colors.accent-hover") },
              textDecoration: "none",
            },
            h1: { color: theme("colors.text-primary"), fontFamily: theme("fontFamily.heading").join(", ") },
            h2: { color: theme("colors.text-primary"), fontFamily: theme("fontFamily.heading").join(", ") },
            h3: { color: theme("colors.text-primary"), fontFamily: theme("fontFamily.heading").join(", ") },
            h4: { color: theme("colors.text-primary"), fontFamily: theme("fontFamily.heading").join(", ") },
            strong: { color: theme("colors.text-primary") },
            code: { color: theme("colors.accent") },
            blockquote: { borderLeftColor: theme("colors.accent"), color: theme("colors.text-secondary") },
          },
        },
      }),
    },
  },
  plugins: [require("@tailwindcss/typography")],
};
```

**4. Create directory structure:**

```bash
mkdir -p assets/css assets/built assets/fonts assets/images partials
```

  </action>
  <verify>
1. SSH into VPS and check theme directory exists:
   ```bash
   ls -la /var/www/ghost/content/themes/tendhunt-theme
   ```
   Should show: `package.json`, `tailwind.config.js`, `node_modules/`, `assets/`, `partials/`

2. Verify Tailwind is installed:
   ```bash
   cd /var/www/ghost/content/themes/tendhunt-theme
   npx tailwindcss --help
   ```
   Should output Tailwind CLI help text (not "command not found")

3. Check package.json has correct Ghost engine version:
   ```bash
   grep "ghost" package.json
   ```
   Should show: `"ghost": ">=5.0.0"`
  </verify>
  <done>
Theme directory created with package.json, tailwind.config.js, and Tailwind CSS + Typography plugin installed. Directory structure includes assets/ and partials/.
  </done>
</task>

<task type="auto">
  <name>Create Tailwind CSS theme file and copy fonts from landing page</name>
  <files>
    /var/www/ghost/content/themes/tendhunt-theme/assets/css/index.css
    /var/www/ghost/content/themes/tendhunt-theme/assets/fonts/space-grotesk-latin-variable-wghtOnly-normal.woff2
    /var/www/ghost/content/themes/tendhunt-theme/assets/fonts/inter-latin-variable-wghtOnly-normal.woff2
  </files>
  <action>
**1. Create assets/css/index.css** (SSH into VPS, in theme directory):

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Font-face declarations (self-hosted, copied from landing) */
@font-face {
  font-family: "Space Grotesk Variable";
  font-style: normal;
  font-weight: 300 700;
  font-display: swap;
  src: url("../fonts/space-grotesk-latin-variable-wghtOnly-normal.woff2") format("woff2-variations");
}

@font-face {
  font-family: "Inter Variable";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("../fonts/inter-latin-variable-wghtOnly-normal.woff2") format("woff2-variations");
}

@layer base {
  body {
    font-family: theme('fontFamily.body');
    background-color: theme('colors.bg-primary');
    color: theme('colors.text-body');
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: theme('fontFamily.heading');
    color: theme('colors.text-primary');
  }
}

/* Ghost-specific content styling */
.gh-content {
  @apply prose prose-invert max-w-none;
  @apply prose-headings:font-heading prose-headings:text-text-primary;
  @apply prose-p:text-text-body prose-a:text-accent prose-a:hover:text-accent-hover;
  @apply prose-code:text-accent prose-code:bg-bg-secondary prose-code:px-1 prose-code:py-0.5 prose-code:rounded;
}
```

**2. Copy font files from landing page:**

On your local machine (NOT VPS), locate the font files:
```bash
cd /Users/kirillkozak/Projects/tendhunt.com/landing
find . -name "*.woff2" -path "*/space-grotesk*" -o -path "*/inter*"
```

Then SCP them to the VPS:
```bash
scp ./node_modules/@fontsource-variable/space-grotesk/files/space-grotesk-latin-variable-wghtOnly-normal.woff2 root@<VPS_IP>:/var/www/ghost/content/themes/tendhunt-theme/assets/fonts/

scp ./node_modules/@fontsource-variable/inter/files/inter-latin-variable-wghtOnly-normal.woff2 root@<VPS_IP>:/var/www/ghost/content/themes/tendhunt-theme/assets/fonts/
```

**Alternative (if files not found locally):**
Download directly on VPS:
```bash
ssh root@<VPS_IP>
cd /var/www/ghost/content/themes/tendhunt-theme/assets/fonts
curl -L -o space-grotesk-latin-variable-wghtOnly-normal.woff2 "https://cdn.jsdelivr.net/npm/@fontsource-variable/space-grotesk@5.0.18/files/space-grotesk-latin-variable-wghtOnly-normal.woff2"
curl -L -o inter-latin-variable-wghtOnly-normal.woff2 "https://cdn.jsdelivr.net/npm/@fontsource-variable/inter@5.0.16/files/inter-latin-variable-wghtOnly-normal.woff2"
```

**3. Build Tailwind CSS:**

```bash
cd /var/www/ghost/content/themes/tendhunt-theme
npm run build
```

Expected output: `assets/built/index.css` file created with compiled Tailwind CSS.
  </action>
  <verify>
1. Check CSS file exists and contains Tailwind:
   ```bash
   head -20 /var/www/ghost/content/themes/tendhunt-theme/assets/built/index.css
   ```
   Should show CSS reset rules and utility classes (starts with `*,::before,::after`)

2. Verify font files are present:
   ```bash
   ls -lh /var/www/ghost/content/themes/tendhunt-theme/assets/fonts/
   ```
   Should show two .woff2 files (space-grotesk and inter), each >100KB

3. Check for Tailwind build errors:
   ```bash
   cd /var/www/ghost/content/themes/tendhunt-theme
   npm run build 2>&1 | grep -i error
   ```
   Should output nothing (no errors)
  </verify>
  <done>
Tailwind CSS compiled to assets/built/index.css with TendHunt design tokens. Variable fonts (Space Grotesk, Inter) copied to assets/fonts/ and declared in CSS.
  </done>
</task>

<task type="auto">
  <name>Create Ghost theme templates (default, index, post, partials)</name>
  <files>
    /var/www/ghost/content/themes/tendhunt-theme/default.hbs
    /var/www/ghost/content/themes/tendhunt-theme/index.hbs
    /var/www/ghost/content/themes/tendhunt-theme/post.hbs
    /var/www/ghost/content/themes/tendhunt-theme/partials/header.hbs
    /var/www/ghost/content/themes/tendhunt-theme/partials/footer.hbs
    /var/www/ghost/content/themes/tendhunt-theme/partials/post-card.hbs
  </files>
  <action>
SSH into VPS, navigate to theme directory, and create the following Handlebars templates:

**1. default.hbs** (base layout):

```handlebars
<!DOCTYPE html>
<html lang="{{@site.locale}}" class="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{meta_title}}</title>
  {{ghost_head}}
  <link rel="stylesheet" href="{{asset "built/index.css"}}">
</head>
<body class="bg-bg-primary text-text-body font-body antialiased">
  {{> header}}

  <main class="min-h-screen">
    {{{body}}}
  </main>

  {{> footer}}

  {{ghost_foot}}
</body>
</html>
```

**2. partials/header.hbs** (matches landing navigation):

```handlebars
<header class="sticky top-0 z-50 border-b border-border bg-bg-primary/80 backdrop-blur-sm">
  <nav class="mx-auto max-w-7xl px-6 py-4">
    <div class="flex items-center justify-between">
      <a href="/" class="text-2xl font-heading font-bold text-text-primary hover:text-accent transition">
        TendHunt
      </a>

      <ul class="hidden md:flex gap-8 text-sm text-text-secondary">
        <li><a href="/#features" class="hover:text-text-primary transition">Features</a></li>
        <li><a href="/#how-it-works" class="hover:text-text-primary transition">How It Works</a></li>
        <li><a href="/#pricing" class="hover:text-text-primary transition">Pricing</a></li>
        <li><a href="/blog" class="text-accent font-medium">Blog</a></li>
      </ul>

      <a href="/#waitlist" class="hidden sm:block bg-accent text-bg-primary px-6 py-2 rounded-full font-medium hover:bg-accent-hover transition">
        Get Early Access
      </a>
    </div>
  </nav>
</header>
```

**3. partials/footer.hbs** (minimal footer matching landing):

```handlebars
<footer class="border-t border-border bg-bg-secondary">
  <div class="mx-auto max-w-7xl px-6 py-12">
    <div class="grid md:grid-cols-3 gap-8">
      <div>
        <h3 class="text-xl font-heading font-bold text-text-primary mb-4">TendHunt</h3>
        <p class="text-sm text-text-secondary">UK procurement intelligence for suppliers.</p>
      </div>
      <div>
        <h4 class="font-heading font-semibold text-text-primary mb-4">Product</h4>
        <ul class="space-y-2 text-sm text-text-secondary">
          <li><a href="/#features" class="hover:text-text-primary transition">Features</a></li>
          <li><a href="/#pricing" class="hover:text-text-primary transition">Pricing</a></li>
          <li><a href="/blog" class="hover:text-text-primary transition">Blog</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-heading font-semibold text-text-primary mb-4">Company</h4>
        <ul class="space-y-2 text-sm text-text-secondary">
          <li><a href="/#waitlist" class="hover:text-text-primary transition">Join Waitlist</a></li>
        </ul>
      </div>
    </div>
    <div class="mt-8 pt-8 border-t border-border text-center text-sm text-text-secondary">
      <p>&copy; {{date format="YYYY"}} TendHunt. All rights reserved.</p>
    </div>
  </div>
</footer>
```

**4. index.hbs** (blog homepage with post list):

```handlebars
{{!< default}}

<div class="mx-auto max-w-7xl px-6 py-16">
  <h1 class="text-5xl font-heading font-bold text-text-primary mb-4">
    UK Procurement Intelligence
  </h1>
  <p class="text-xl text-text-secondary mb-12">
    Data-driven insights on public sector contracts, tenders, and buying signals.
  </p>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
    {{#foreach posts}}
      {{> post-card}}
    {{/foreach}}
  </div>

  {{pagination}}
</div>
```

**5. post.hbs** (single post template):

```handlebars
{{!< default}}

<article class="mx-auto max-w-4xl px-6 py-16">
  <header class="mb-8">
    <h1 class="text-5xl font-heading font-bold text-text-primary mb-4">{{title}}</h1>
    <div class="flex items-center gap-4 text-sm text-text-secondary">
      <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="MMMM DD, YYYY"}}</time>
      <span>•</span>
      <span>{{reading_time}}</span>
    </div>
  </header>

  {{#if feature_image}}
  <img src="{{feature_image}}" alt="{{title}}" class="w-full rounded-lg mb-8">
  {{/if}}

  <div class="gh-content">
    {{content}}
  </div>

  {{#if tags}}
  <footer class="mt-12 pt-8 border-t border-border">
    <div class="flex flex-wrap gap-2">
      {{#foreach tags}}
        <a href="{{url}}" class="px-3 py-1 bg-bg-secondary text-text-secondary text-sm rounded-full hover:bg-accent hover:text-bg-primary transition">
          {{name}}
        </a>
      {{/foreach}}
    </div>
  </footer>
  {{/if}}
</article>
```

**6. partials/post-card.hbs** (post card component for blog homepage):

```handlebars
<article class="bg-bg-secondary border border-border rounded-lg overflow-hidden hover:border-accent transition group">
  {{#if feature_image}}
  <a href="{{url}}" class="block">
    <img src="{{feature_image}}" alt="{{title}}" class="w-full h-48 object-cover">
  </a>
  {{/if}}

  <div class="p-6">
    <h2 class="text-2xl font-heading font-bold text-text-primary mb-2 group-hover:text-accent transition">
      <a href="{{url}}">{{title}}</a>
    </h2>
    <p class="text-text-secondary mb-4">{{excerpt words="25"}}</p>
    <div class="flex items-center gap-4 text-xs text-text-secondary">
      <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="MMM DD, YYYY"}}</time>
      <span>•</span>
      <span>{{reading_time}}</span>
    </div>
  </div>
</article>
```

**7. Activate the theme:**

```bash
cd /var/www/ghost/content/themes/tendhunt-theme
ghost restart
```

Then in Ghost admin (https://ghost-admin.tendhunt.com/ghost):
- Go to Settings → Design
- Click "Change theme"
- Select "tendhunt-theme" from the dropdown
- Click "Activate"
  </action>
  <verify>
1. Check all template files exist:
   ```bash
   ls -la /var/www/ghost/content/themes/tendhunt-theme/*.hbs
   ls -la /var/www/ghost/content/themes/tendhunt-theme/partials/*.hbs
   ```
   Should show: default.hbs, index.hbs, post.hbs, and 3 partial files

2. Verify theme is listed in Ghost admin:
   - Visit: https://ghost-admin.tendhunt.com/ghost/#/settings/design
   - Should show "tendhunt-theme" in available themes list

3. Activate theme and check blog homepage:
   - Activate the theme in Ghost admin
   - Visit: https://ghost-admin.tendhunt.com
   - Should show dark background, Space Grotesk headings, landing navigation in header

4. Test post rendering (if sample post exists from Plan 01):
   - Visit a post URL (e.g., https://ghost-admin.tendhunt.com/test-post/)
   - Should render with prose styling, accent-colored links, dark theme

5. Font files wiring verification (browser-based):
   - Open https://ghost-admin.tendhunt.com in browser
   - Open DevTools (F12) → Application tab → Fonts
   - Check that Space Grotesk and Inter fonts are loaded (not fallback fonts like Arial/Helvetica)
   - Verify font file URLs reference `/assets/fonts/space-grotesk-*.woff2` and `/assets/fonts/inter-*.woff2`
   - Expected: Status 200 for both font files, `font-display: swap` in CSS

6. Check for template errors in Ghost logs:
   ```bash
   tail -50 /var/www/ghost/content/logs/http___ghost-admin_tendhunt_com_production.error.log
   ```
   Should show no Handlebars compilation errors
  </verify>
  <done>
Ghost theme templates created (default, index, post, header, footer, post-card) and activated. Blog homepage and post pages render with TendHunt branding (dark theme, Space Grotesk font, accent color #E5FF00, landing navigation).
  </done>
</task>

</tasks>

<verification>
1. Blog homepage at ghost-admin.tendhunt.com matches landing page design (header, footer, fonts, colors)
2. Blog posts render with Tailwind Typography styling (headings, paragraphs, links, code blocks)
3. Header navigation includes landing page links (Features, How It Works, Pricing, Waitlist CTA)
4. Footer matches landing page footer (3-column layout, links to landing sections)
5. Dark mode applies automatically (no manual toggle needed)
6. Theme builds without errors (`npm run build` succeeds)
7. Theme activates in Ghost admin without errors
</verification>

<success_criteria>
- Custom Ghost theme installed at /var/www/ghost/content/themes/tendhunt-theme
- Theme uses Tailwind CSS v3 with @tailwindcss/typography plugin
- Design tokens match landing page (Space Grotesk + Inter fonts, #E5FF00 accent, dark background)
- Header partial includes full landing navigation with working links
- Footer partial matches landing page 3-column layout
- Blog posts render with prose styling (headings, links, code blocks styled correctly)
- Theme activated in Ghost admin and visible on blog pages
</success_criteria>

<output>
After completion, create `landing/.planning/phases/03-ghost-blog/03-02-SUMMARY.md` with:
- Theme directory structure
- Tailwind build process
- Design token mappings (landing → Ghost theme)
- Template file purposes (default, index, post, partials)
- Font file locations and self-hosting approach
- Any deviations from research recommendations
</output>
