---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - package.json
autonomous: false

user_setup:
  - service: cloudflare-pages
    why: "Static site hosting at tendhunt.com"
    dashboard_config:
      - task: "Ensure tendhunt.com domain DNS is managed by Cloudflare (CF Pages custom domain requires it)"
        location: "Cloudflare Dashboard -> tendhunt.com -> DNS"

must_haves:
  truths:
    - "Site is accessible at https://tendhunt.com with HTTPS"
    - "All pages load correctly on the deployed URL (index, privacy, terms)"
    - "Header sticky effect works on the live site"
    - "Footer renders with tagline and link grid on the live site"
    - "No console errors on the deployed site"
  artifacts:
    - path: "package.json"
      provides: "Deploy script for Cloudflare Pages"
      contains: "deploy"
  key_links:
    - from: "wrangler.jsonc"
      to: "Cloudflare Pages"
      via: "wrangler pages deploy dist"
      pattern: "pages_build_output_dir"
    - from: "dist/"
      to: "https://tendhunt.com"
      via: "Cloudflare Pages CDN"
      pattern: "index\\.html"
---

<objective>
Deploy the Astro site to Cloudflare Pages and verify the live site works correctly -- header, footer, dark theme, fonts, and all pages render as expected on the production URL.

Purpose: The site must be live at tendhunt.com so Phase 2+ content work deploys incrementally to a real URL. Deployment validates that the build output works in production, not just locally.
Output: Live site at https://tendhunt.com with working header, footer, and placeholder content.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@landing/.planning/PROJECT.md
@landing/.planning/ROADMAP.md
@landing/.planning/phases/01-foundation/01-CONTEXT.md
@landing/.planning/phases/01-foundation/01-RESEARCH.md
@landing/.planning/phases/01-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Deploy to Cloudflare Pages via Wrangler CLI</name>
  <files>
    package.json
  </files>
  <action>
**Step 1: Add deploy script to package.json**
Add to scripts: `"deploy": "astro build && wrangler pages deploy dist --project-name=tendhunt-landing"`

**Step 2: Build the project**
Run `npm run build` to produce fresh `dist/` output.

**Step 3: Deploy to Cloudflare Pages**
Run `npx wrangler pages deploy dist --project-name=tendhunt-landing` from the `landing/` directory.

If wrangler is not authenticated, it will open a browser for OAuth login -- this is handled dynamically (auth gate). If the project doesn't exist yet on CF Pages, wrangler will create it automatically.

**Step 4: Set custom domain (if not already configured)**
After initial deploy, the site will be at `tendhunt-landing.pages.dev`. To add the custom domain `tendhunt.com`:
- Run `npx wrangler pages project list` to confirm the project exists
- The custom domain must be added via Cloudflare Dashboard (Pages -> tendhunt-landing -> Custom domains -> Add domain -> tendhunt.com). This step may need to be handled as a dynamic checkpoint if CLI doesn't support it.

**Step 5: Add environment variable for Sharp (if build fails)**
If the CF Pages build fails with Sharp errors, set: `SHARP_IGNORE_GLOBAL_LIBVIPS=1` as an environment variable in the Pages project settings, or add `NODE_VERSION=20` to ensure correct Node runtime.

Note: Since we're using `wrangler pages deploy` (direct upload), the build happens locally, not on CF Pages CI. Sharp issues are less likely with direct upload since the local build already succeeded.

**Step 6: Verify deployment**
After deploy completes, curl the Pages URL to confirm HTML is served:
```bash
curl -s -o /dev/null -w "%{http_code}" https://tendhunt-landing.pages.dev/
```
Should return 200.
  </action>
  <verify>
1. `npx wrangler pages deploy dist --project-name=tendhunt-landing` completes without error
2. `curl -s -o /dev/null -w "%{http_code}" https://tendhunt-landing.pages.dev/` returns 200
3. The deployed HTML contains "TendHunt" in the title
  </verify>
  <done>
Site deployed to Cloudflare Pages. Accessible at tendhunt-landing.pages.dev (and tendhunt.com if custom domain is configured). Deploy script added to package.json for future deployments.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify deployed site visually</name>
  <files>none</files>
  <action>
CHECKPOINT: Human visual verification of the deployed site.

What was built:
- Complete Astro landing page foundation deployed to Cloudflare Pages
- Dark theme (#0A0A0A background) with yellow/lime (#E5FF00) accent
- Sticky header with logo, 6 nav items, "Get Early Access" CTA button
- Mobile hamburger menu (below 1024px width)
- Footer with oversized "Find contracts. Win business." tagline
- 4-column footer with Product, Resources, Legal links + social icons
- Space Grotesk headings + Inter body text
- Placeholder hero section on index page
- Privacy and Terms placeholder pages

How to verify:
1. Visit https://tendhunt-landing.pages.dev/ (or https://tendhunt.com if custom domain is live)
2. Verify dark background loads immediately (no white flash)
3. Verify header shows: TendHunt logo, How It Works, Features, Pricing, Blog, Log In links, and a yellow/lime "Get Early Access" button
4. Scroll down -- header should become sticky with a blurred dark background
5. Verify footer at bottom shows "Find contracts. Win business." in large text
6. Verify footer has 4 columns: logo+description, Product links, Resources links, Legal+Social
7. Resize browser to mobile width (below 1024px) -- hamburger menu should appear, nav items should collapse
8. Click hamburger -- nav items should appear in mobile menu
9. Visit /privacy and /terms -- placeholder pages should load
10. Open browser DevTools console -- should have no errors
11. Check fonts: headings should be Space Grotesk (techy, geometric), body text should be Inter (clean, readable)

Resume signal: Type "approved" if everything looks correct, or describe any issues to fix.
  </action>
  <verify>User confirms visual approval of the deployed site</verify>
  <done>User has verified the deployed site matches design specifications: dark theme, sticky header, footer tagline, fonts, mobile nav, and all pages load correctly.</done>
</task>

</tasks>

<verification>
1. Site is live and returns HTTP 200 at the deployed URL
2. All pages (index, privacy, terms) are accessible
3. Visual appearance matches the design decisions from CONTEXT.md:
   - Dark theme with lime accent
   - Sticky header with blur effect
   - Oversized footer tagline
   - Enterprise clean aesthetic
4. No console errors in browser DevTools
5. Mobile responsive (hamburger menu works)
</verification>

<success_criteria>
- Site deployed to Cloudflare Pages and accessible via HTTPS
- All 3 pages load correctly (index, /privacy, /terms)
- Visual verification confirms: dark theme, sticky header, footer tagline, fonts, mobile nav
- User approves the visual checkpoint
</success_criteria>

<output>
After completion, create `landing/.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
