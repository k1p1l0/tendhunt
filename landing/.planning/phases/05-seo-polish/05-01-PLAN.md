---
phase: 05-seo-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - landing/src/layouts/BaseLayout.astro
  - landing/src/components/sections/FAQSection.astro
  - landing/src/pages/index.astro
  - landing/src/pages/privacy.astro
  - landing/src/pages/terms.astro
  - landing/src/styles/global.css
  - landing/public/robots.txt
autonomous: true

must_haves:
  truths:
    - "Every page has correct title, description, canonical URL, and full OG/Twitter meta tags"
    - "Home page has WebSite + Organization JSON-LD structured data"
    - "FAQ section has FAQPage JSON-LD structured data matching all 7 questions"
    - "OG image exists and is referenced correctly in meta tags"
    - "Fonts are preloaded to eliminate render-blocking"
    - "robots.txt and sitemap are correctly configured"
  artifacts:
    - path: "landing/src/layouts/BaseLayout.astro"
      provides: "Full SEO meta: canonical, OG (url, description, site_name, locale, image dimensions), Twitter card, font preloads"
      contains: "og:description"
    - path: "landing/src/pages/index.astro"
      provides: "Home page with WebSite + Organization JSON-LD in head"
      contains: "application/ld+json"
    - path: "landing/src/components/sections/FAQSection.astro"
      provides: "FAQPage JSON-LD structured data"
      contains: "FAQPage"
    - path: "landing/public/og-image.png"
      provides: "1200x630 OG image for social sharing"
  key_links:
    - from: "landing/src/layouts/BaseLayout.astro"
      to: "astro-seo"
      via: "SEO component props"
      pattern: "openGraph|twitter"
    - from: "landing/src/pages/index.astro"
      to: "landing/src/layouts/BaseLayout.astro"
      via: "BaseLayout props (title, description, structuredData)"
      pattern: "BaseLayout"
---

<objective>
Add comprehensive SEO meta tags, Open Graph/Twitter cards, JSON-LD structured data, font preloading, and OG image to the TendHunt landing page.

Purpose: Satisfy LAND-17 (SEO meta/OG/structured data) and LAND-18 (performance foundations) so all pages pass SEO audits and have correct social sharing previews.
Output: Enhanced BaseLayout with full meta, FAQPage schema, WebSite/Organization schema, OG image, font preloads.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@landing/.planning/ROADMAP.md
@landing/.planning/PROJECT.md
@landing/src/layouts/BaseLayout.astro
@landing/src/components/sections/FAQSection.astro
@landing/src/pages/index.astro
@landing/astro.config.mjs
@landing/package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance BaseLayout with full SEO meta, OG/Twitter cards, font preloads, and OG image</name>
  <files>
    landing/src/layouts/BaseLayout.astro
    landing/src/styles/global.css
    landing/public/og-image.png
    landing/public/robots.txt
  </files>
  <action>
**BaseLayout.astro** -- Enhance the existing `<SEO>` component usage and add missing meta:

1. Expand the Props interface to accept: `title`, `description`, `canonicalUrl`, `ogImage`, `noindex` (optional boolean).

2. Replace the existing minimal `<SEO>` usage with full configuration:
   - `title` as-is (already working)
   - `description` with proper per-page default
   - `canonical` set to `Astro.url.href` (astro-seo supports this)
   - `openGraph` expanded:
     - `basic.title` = title
     - `basic.type` = "website"
     - `basic.image` = `new URL(ogImage || '/og-image.png', Astro.site).href`
     - `basic.url` = `Astro.url.href`
     - `optional.description` = description
     - `optional.siteName` = "TendHunt"
     - `optional.locale` = "en_GB"
     - `image.width` = 1200
     - `image.height` = 630
     - `image.alt` = "TendHunt - UK Procurement Intelligence"
     - `image.type` = "image/png"
   - `twitter` card meta:
     - `card` = "summary_large_image"
     - `site` = "@tendhunt"
     - `title` = title
     - `description` = description
     - `image` = same as OG image URL
     - `imageAlt` = "TendHunt - UK Procurement Intelligence"
   - `noindex` / `nofollow` only if `noindex` prop is true

3. Add font preload `<link>` tags in `<head>` BEFORE the CSS import. Preload the two variable font WOFF2 files to eliminate render-blocking:
   - Find the actual font file paths by checking `node_modules/@fontsource-variable/space-grotesk/files/` and `node_modules/@fontsource-variable/inter/files/` for the woff2 files. Use the standard variable font files (typically `space-grotesk-latin-wght-normal.woff2` and `inter-latin-wght-normal.woff2`).
   - Add: `<link rel="preload" href="/_astro/space-grotesk-latin-wght-normal.*.woff2" as="font" type="font/woff2" crossorigin />` -- BUT since Astro hashes filenames, we need a different approach: add the preload links using the `@fontsource-variable` npm import paths and let Vite resolve them. Actually, the simplest approach: import the font files directly in the frontmatter and use them in preload tags:
     ```
     import spaceGrotesk from '@fontsource-variable/space-grotesk/files/space-grotesk-latin-wght-normal.woff2?url';
     import inter from '@fontsource-variable/inter/files/inter-latin-wght-normal.woff2?url';
     ```
     Then add: `<link rel="preload" href={spaceGrotesk} as="font" type="font/woff2" crossorigin />`
     and: `<link rel="preload" href={inter} as="font" type="font/woff2" crossorigin />`

4. Add `<meta name="theme-color" content="#0A0A0A" />` for mobile browser chrome color.

5. Add `<link rel="icon" type="image/x-icon" href="/favicon.ico" />` alongside the existing SVG favicon (for broader compatibility).

**OG Image** -- Create a simple 1200x630 PNG OG image. Since we don't have a design tool available, generate it programmatically:
   - Create a small Node.js script (temporary, can delete after) OR use the `sharp` package (already in dependencies) to generate a 1200x630 image:
     - Dark background (#0A0A0A)
     - "TendHunt" text in white (or use SVG text overlay)
     - Lime accent (#E5FF00) decorative element
     - Tagline: "UK Procurement Intelligence for Suppliers"
   - Save to `landing/public/og-image.png`
   - Alternative simpler approach: create an SVG with the design and convert to PNG with sharp.

**robots.txt** -- Verify the existing file is correct. Add a `Disallow: /api/` rule to prevent indexing the waitlist API endpoint. The file should read:
```
User-agent: *
Allow: /
Disallow: /api/

Sitemap: https://tendhunt.com/sitemap-index.xml
```

**global.css** -- Add `font-display: swap` declaration to ensure fonts don't block rendering:
```css
@font-face {
  font-display: swap;
}
```
Actually, Fontsource already sets font-display: swap by default, so verify this is the case and skip if already handled. Check the imported font CSS.
  </action>
  <verify>
Run `cd landing && npm run build` -- build succeeds with no errors. Check dist/index.html contains: og:description, og:url, og:site_name, twitter:card, canonical link, theme-color meta, font preload links. Check `landing/public/og-image.png` exists and is a valid PNG (file size > 1KB). Check `landing/public/robots.txt` contains Disallow: /api/.
  </verify>
  <done>
BaseLayout renders full OG + Twitter meta on every page. Font preload links are in head. OG image exists at /og-image.png. robots.txt disallows /api/. theme-color meta is present.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add JSON-LD structured data (WebSite, Organization, FAQPage) and page-specific meta</name>
  <files>
    landing/src/pages/index.astro
    landing/src/components/sections/FAQSection.astro
    landing/src/pages/privacy.astro
    landing/src/pages/terms.astro
  </files>
  <action>
**index.astro** -- Add JSON-LD structured data in a `<script type="application/ld+json">` tag. Place it inside the `<BaseLayout>` component using Astro's `<Fragment slot="head">` pattern -- BUT BaseLayout doesn't have a head slot currently, so instead add the JSON-LD scripts directly inside the `<BaseLayout>` component body (they're valid anywhere in HTML, and search engines will find them).

Add two JSON-LD blocks at the top of the `<BaseLayout>` content (before the hero section):

1. **WebSite schema:**
```json
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "TendHunt",
  "url": "https://tendhunt.com",
  "description": "UK procurement intelligence platform for suppliers. Find government contracts, reveal buyer contacts, and track procurement signals.",
  "publisher": {
    "@type": "Organization",
    "name": "TendHunt",
    "url": "https://tendhunt.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tendhunt.com/favicon.svg"
    }
  }
}
```

2. **Organization schema:**
```json
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "TendHunt",
  "url": "https://tendhunt.com",
  "logo": "https://tendhunt.com/favicon.svg",
  "description": "UK procurement intelligence for suppliers",
  "sameAs": []
}
```

Also update the index.astro `<BaseLayout>` call to pass a specific description:
```
<BaseLayout
  title="TendHunt - UK Procurement Intelligence for Suppliers"
  description="Find UK government contracts before competitors, reveal buyer contacts, and track procurement signals. Join 200,000+ contract opportunities."
>
```

**FAQSection.astro** -- Add FAQPage JSON-LD structured data. Generate it from the existing `faqs` array:

Add a `<script type="application/ld+json">` tag after the `</section>` (before `<style>`). Use `JSON.stringify` to build it dynamically from the faqs array:

```astro
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
})} />
```

This ensures the JSON-LD always stays in sync with the displayed FAQ content. Use `set:html` to prevent Astro from escaping the JSON.

**privacy.astro** -- Update to pass description:
```
<BaseLayout title="Privacy Policy - TendHunt" description="TendHunt privacy policy. How we collect, use, and protect your data.">
```

**terms.astro** -- Update to pass description:
```
<BaseLayout title="Terms of Service - TendHunt" description="TendHunt terms of service. Rules and conditions for using our platform.">
```
  </action>
  <verify>
Run `cd landing && npm run build`. Check dist/index.html contains two `application/ld+json` script blocks: one with "WebSite" and one with "Organization". Check that the FAQ section HTML in dist/index.html contains a `application/ld+json` script with "FAQPage" and 7 Question entries. Check dist/privacy/index.html has a unique description meta tag. Check dist/terms/index.html has a unique description meta tag.
  </verify>
  <done>
Home page has WebSite + Organization JSON-LD. FAQ section has FAQPage JSON-LD with all 7 questions. Privacy and Terms pages have specific meta descriptions. All structured data is valid JSON-LD that Google can parse.
  </done>
</task>

</tasks>

<verification>
1. `cd landing && npm run build` completes with zero errors
2. `grep -c "og:description" landing/dist/index.html` returns 1
3. `grep -c "og:url" landing/dist/index.html` returns 1
4. `grep -c "og:site_name" landing/dist/index.html` returns 1
5. `grep -c "twitter:card" landing/dist/index.html` returns 1
6. `grep -c "canonical" landing/dist/index.html` returns 1
7. `grep -c "FAQPage" landing/dist/index.html` returns 1
8. `grep -c "WebSite" landing/dist/index.html` returns 1
9. `grep -c "theme-color" landing/dist/index.html` returns 1
10. OG image file exists: `test -f landing/public/og-image.png && echo "OK"`
11. robots.txt has API disallow: `grep "Disallow: /api/" landing/public/robots.txt`
12. Font preload present: `grep -c "preload.*font" landing/dist/index.html` returns 2
</verification>

<success_criteria>
- All pages have canonical URL, full OG tags (url, description, site_name, locale, image with dimensions), and Twitter card meta
- Home page contains WebSite + Organization JSON-LD
- FAQ section contains FAQPage JSON-LD with all 7 Q&A pairs
- OG image (1200x630 PNG) exists at /og-image.png
- Fonts are preloaded (two woff2 link preload tags in head)
- robots.txt blocks /api/ and references sitemap
- theme-color meta tag present
- Privacy and Terms pages have unique descriptions
- Build succeeds with zero errors
</success_criteria>

<output>
After completion, create `landing/.planning/phases/05-seo-polish/05-01-SUMMARY.md`
</output>
